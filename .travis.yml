sudo: required
language: node_js
services:
- docker
env:
  global:
  - DOCKER_IMAGE_NAME=chibchombiano26/coins
  - COMMIT=${TRAVIS_COMMIT::8}
  - secure: ZmjBsAa1LpQurOgtOmXTm6KzdAXbUH5g4HcoPSqjqmwPfKpbV9RKoflExGP+22ydSkmXcOIb+/Rq4UBS09dRrBFWPNDiAt+zYkB2UQrOPRDtYbEpWl2l0JsE9ZG7+G8xbet1GxwPkDmz/glKGlEzCpyKp4I2JuCFmJ8mH9eiX5aQAWH2ce5UHJpkrRKTYX1gSeh4awHmdDtzKUKYnU/WdAQ3Zirng8m/0sv1+aqyU3XCsnfpQnN7n+toz7ov+vnSe3/d9P0M9oPsdRdUhrK7XTXwD3WyVjMYHKUCdSjGHLayILG3Uv8+ZHkMaZNYbc5AmE6Qh8iURR5czClvFTyXREDR28VNwrmlIvgBpuRcd6LVTEoKRZpAGPXhpInKan0pXFpJWyNxb5JHA1B1/h6ZQfs6pbBFFcOJkujmBQdB7VB0g5CMo2T4ODprLxiUEd+fxt0biP2KILw6rUzE2uggJph2xzA+sOOkA7mappetApfoFgSOjxhf3pI+AxHF6bMGJLq4aEODsHpNySYtEvSJXoCm83J3YFSpvhJ1f1yyti7Zqfy9p8BXvvD0kjJQnDCckN/xA2oFYL6XTAys5TfYSr25lWU5JWBQhfu8xAdn1h5qcGCI/xZaIiN76zxPILtZrQw+enGU71CQsmKGE88Tt2IlEg+R2NmbWDTEP+PB4dU=
  - secure: ZIgO416jJPP674TCHjOhhhGhy2o4CYvroJQd9vly115QNvYDE8OYaC/TNOjUlyOOro0ED3j9X5VrW4GXs662xWVCwOXD6Zuk700kwSRMrPY0oiCfW6Ct9lKnOjwIBEHHmYYdSss0gGfcpupW9plDW02EvwJgR9ZG+PyDaF7AgwVzO1FWVZ3gbfdVFTjjLwnfZzcJ1IDoediwP5l7LiXotsEyWJhIivG91QxcT8udO+AhYPlUm5b0NAq4O8yKq253fx3fsEUlOROBRhLHqyYxn+acgUGPDM64OgSJKBFFy2Jyp6RJY295XjwSp39FZzstV1YcvGEVh5gE5G42LoiXiVURPVfornMedLpVZ9Uw/e2V7Eh80sGLcrkg9vf1e1SAWWQAww6M6pWXin/S6+8dfG0/ey5vbJ0wXp4YVKKu6ANeTstYcbOv0y+R3VcatfPhfXk8T7c2VgrPC15OzP5IZ6xDBzX+VycYuCHxsO4M8TzAY6tgngLzBhSoWWUlT0J93NGeZtgAsyQw5890rhrjCVwmVEz47ul3cGZKlDKXrd4RjtB+YbTPj5mptKnfw+wOG5nDyFj5jwuT1Q3YsPT5jEWJHbucLt74kKVXvt6D5X5H4sl7RDOhqy+3fVWcrCRg5aXHaWmK3jOeRL4KTdwYYHbWN8lQpbxdbMOYC27dWzc=
  - secure: PDSe8lOFmQhtPDhwqHx3xm2/eEQbTA3cLrC49apZ5fNvuOiiuq+U+jLR7xiIeA0UV21cKhmtqU780YsYcTjTWpDc2iifCJYJDMozw7XlbpEupyLsK6qVkHx8HstjHvBqszgRd/8UIQCSLVyHm04KZyFSKb6RErmbIkM6lf64f5kGpYzZF6YLvouD/YaJe6sk55gFsLkNB96OMHZUG2hLm3Ex/LZ6KlOL7Rql/3L8qqO+qoF3F193qPEk+o8L9x0IGgDCXTG+kHELBQ5yBvUGX3Pvv0d9pV9VIeqc26Y48ap+1NxYdAe6N+5B8XsnJ7oLqt5edCyNmdv4ggtU8ZQYuUs55eEXBkwnKVIOKMjrLeEDrrQ18asFgiTJ5sCmWPwWOX7TlhmW6vjBdJtDmxG2YF98w65YSeiu/lDJgiudW3jJSJVU9t9xtxdMyY77gISprjOm7JtE6+8YqHrGw1s3t6q3J4SwH27EV47QVRfipj3NbyaLWR/XUXdX2fLF/TwcmC9OVj03VJ/v/W0HPrQSs86fAMijGmCIOqNgHI1tc9jXCLPABuCa8IHbwzS0GSNmKNrtLHP7YcDvchaKTU7GWnp8NzQP7vm0SbH+NUMqmxg056+Cc/g+3PoP5UBjX9Oj7DiCIXdotjd1w8OnfWJzxeSH3GWJrayKo4Y65tpCKFw=
after_success:
- docker login -e="$DOCKER_EMAIL" -u="$DOCKER_USER" -p="$DOCKER_PASS"
- docker build -f Dockerfile -t $DOCKER_IMAGE_NAME .
- if [ ! -z "$TRAVIS_TAG" ]; then docker tag $DOCKER_IMAGE_NAME:latest $DOCKER_IMAGE_NAME:$TRAVIS_TAG;
  fi
- if [ "$TRAVIS_BRANCH" == "master" ]; then docker push $DOCKER_IMAGE_NAME; fi
